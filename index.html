<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game List</title>
    <link rel="icon" href="img/icon.svg">
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/modal.js"></script>
</head>
<body>
    <div class="header">
        <h2>Game List</h2>
        <button class="upload-button" onclick="openModal()">Upload Game</button>
    </div>
    
    <!-- <table>
        <thead>
            <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Creators</th>
                <th>Class</th>
                <th>Release Year</th>
                <th>Download</th>
                <th>Size</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><img src="img/banners/frontend progress.PNG" alt="Game One Banner"></td>
                <td>Game One</td>
                <td>John Doe, Jane Doe</td>
                <td>Studio 5</td>
                <td>2020</td>
                <td><a href="path_here" class="download-button">Download</a></td>
                <td>50MB</td>
            </tr>
            <tr>
                <td><img src="img/banners/Capture7.PNG" alt="Game Two Banner"></td>
                <td>Game Two</td>
                <td>Alice Smith, Bob Johnson</td>
                <td>Intro App Dev</td>
                <td>2018</td>
                <td><a href="downloadables/ScaredKrow 1.1.zip" class="download-button" download="download">Download</a></td>
                <td>75MB</td>
            </tr>
            <tr>
                <td><img src="img/banners/colour palette.PNG" alt="Game Three Banner"></td>
                <td>Game Three</td>
                <td>Michael Brown, Rachel Green</td>
                <td>Game Development</td>
                <td>2019</td>
                <td><a href="path_here" class="download-button">Download</a></td>
                <td>120MB</td>
            </tr>
        </tbody>
    </table> -->

    <table>
        <thead>
            <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Creators</th>
                <th>Class</th>
                <th>Release Year</th>
                <th>Download</th>
                <th>Size</th>
            </tr>
        </thead>
        <tbody id="game-table-body">

        </tbody>
    </table>

    <button onclick="addGameRow()">generate</button>

    <script>
        var games = [
            {
                bannerSrc: 'img/banners/frontend progress.PNG',
                gameName: 'Game One',
                developers: 'John Doe, Jane Doe',
                studio: 'Studio 5',
                year: '2020',
                downloadLink: 'downloadables/ScaredKrow 1.1.zip',
                size: '50MB'
            },
            {
                bannerSrc: 'img/banners/Capture7.PNG',
                gameName: 'Game Two',
                developers: 'Alice Smith, Bob Johnson',
                studio: 'Intro App Dev',
                year: '2018',
                downloadLink: 'downloadables/ScaredKrow 1.1.zip',
                size: '75MB'
            },
            {
                bannerSrc: 'img/banners/colour palette.PNG',
                gameName: 'Game Three',
                developers: 'Michael Brown, Rachel Green',
                studio: 'Game Development',
                year: '2019',
                downloadLink: 'downloadables/ScaredKrow 1.1.zip',
                size: '120MB'
            },
        ]

        function createTableRow(game) {
            const tr = document.createElement('tr');

            const bannerCell = document.createElement('td');
            const img = document.createElement('img');
            img.src = game.bannerSrc;
            img.alt = `${game.gameName} Banner`;
            bannerCell.appendChild(img);
            tr.appendChild(bannerCell);

            const gameNameCell = document.createElement('td');
            gameNameCell.textContent = game.gameName;
            tr.appendChild(gameNameCell);

            const developersCell = document.createElement('td');
            developersCell.textContent = game.developers;
            tr.appendChild(developersCell);

            const studioCell = document.createElement('td');
            studioCell.textContent = game.studio;
            tr.appendChild(studioCell);

            const yearCell = document.createElement('td');
            yearCell.textContent = game.year;
            tr.appendChild(yearCell);

            const downloadCell = document.createElement('td');
            const downloadAnchor = document.createElement('a');
            downloadAnchor.href = game.downloadLink;
            downloadAnchor.className = 'download-button';
            downloadAnchor.textContent = 'Download';
            downloadCell.appendChild(downloadAnchor);
            tr.appendChild(downloadCell);

            const sizeCell = document.createElement('td');
            sizeCell.textContent = game.size;
            tr.appendChild(sizeCell);

            return tr;
        }

        function addAllGameRows() {
            const tableBody = document.getElementById('game-table-body');
            games.forEach(game => {
                const newRow = createTableRow(game);
                tableBody.appendChild(newRow);
            });
        }
        
        window.onload = addAllGameRows; //loads all the games when the page is loaded

        function addGameRow() {
            const tableBody = document.getElementById('game-table-body');
            const newGame = {
                bannerSrc: 'img/banners/new_game.PNG',
                gameName: 'Game Three',
                developers: 'New Dev, Another Dev',
                studio: 'Studio 9',
                year: '2022',
                downloadLink: 'new_path',
                size: '60MB'
            };
            games.push(newGame);
            const newRow = createTableRow(newGame);
            tableBody.appendChild(newRow);
        }
    </script>

    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <h2>Upload New Game</h2>
            <form action="path_to_server_endpoint" method="post" enctype="multipart/form-data">
                <div class="form-row">
                    <label for="gameName">Game Name:</label>
                    <input type="text" id="gameName" name="gameName" required>
                </div>
                <div class="form-row">
                    <label for="gameCreators">Creators:</label>
                    <input type="text" id="gameCreators" name="gameCreators" required>
                </div>
                <div class="form-row">
                    <label for="gameClass">Class:</label>
                    <input type="text" id="gameClass" name="gameClass" required>
                </div>
                <div class="form-row">
                    <label for="releaseYear">Release Year:</label>
                    <input type="number" id="releaseYear" name="releaseYear" required>
                </div>
                <div class="form-row">
                    <label for="platform">Platform:</label>
                    <input type="text" id="platform" name="platform" required>
                </div>
                <div class="form-row">
                    <label for="gameImage">Game Image:</label>
                    <input type="file" id="gameImage" name="gameImage" accept="image/*" required>
                </div>
                <input type="submit" value="Upload Game">
            </form>
        </div>
    </div>
</body>
</html>
